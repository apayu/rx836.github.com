<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: jQ-Plugin | apa]]></title>
  <link href="http://blog.rx836.tw/blog/categories/jq-plugin/atom.xml" rel="self"/>
  <link href="http://blog.rx836.tw/"/>
  <updated>2013-01-18T18:43:05+08:00</updated>
  <id>http://blog.rx836.tw/</id>
  <author>
    <name><![CDATA[阿帕]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[jQ-Plugin] 做出磁磚效果變化的圖片轉換]]></title>
    <link href="http://blog.rx836.tw/blog/jquery-slice-images-into-tiles/"/>
    <updated>2013-01-18T16:36:00+08:00</updated>
    <id>http://blog.rx836.tw/blog/jquery-slice-images-into-tiles</id>
    <content type="html"><![CDATA[<p><img src="" /></p>

<p>不知道大家有沒有看過這種切成一塊一塊的轉換圖片，類似磁磚拼貼的效果，最近看到一篇講解教學的文章，自己消化了一下，來分享並且紀錄下來</p>

<!--more-->


<h2>Start</h2>

<p>首先是HTML部份</p>

<pre><code>&lt;div class="sliced"&gt;
    &lt;img src="pic.jpg"/&gt;
&lt;/div&gt;
</code></pre>

<p>可以看到HTML部份相當的簡單，用一個&lt;div&gt;包住一個&lt;img&gt;</p>

<p>接著是CSS</p>

<pre><code>.sliced {
    position: relative;
    width: 640px; 
    height: 400px;
}
</code></pre>

<p>因為我們要自製一個jQuery plugin，方便以後可以重複使用，所以這邊要先建立一個基本的樣板</p>

<pre><code>;(function( $, window ) {

    //預設值
    var _defaults = {
        x      : 2, // 預設對圖片x軸要切幾塊
        y      : 2, // 預設對圖片y軸要切幾塊
        random : true, // 磚塊是否要按照順序切換
        speed  : 2000 // 效果的速度
    };              

    $.fn.sliced = function( options ) {

        var o = $.extend( {}, _defaults, options );

        return this.each(function() {
            var $container = $(this); // cache selector for best performance
            // 程式碼從這裡開始寫          

        });
    };

}( jQuery, window ));
</code></pre>

<p>當然如果想要寫其他 Plugin 的人，也可以使用這個樣板去做修改</p>

<h3>原理</h3>

<p>做好基本的準備工作以後，我們要來開始撰寫主程式部分，但在撰寫之前，先來說明一下這個效果是如何產生，其實原理很簡單，在效果執行時，會先將原圖的屬性設為 display: none，接著加上&lt;div&gt;並且設定背景圖片，類似拼圖一樣一塊一塊拼出原圖，不太懂的話下面有範例解說</p>

<p><a href="http://jsfiddle.net/rx836/sbBeA/" target="_blank">範例</a></p>

<p>這邊的重點在於 background-position 這個屬性，利用這個屬性做背景圖片的位移，每一個&lt;div&gt;代表著圖片的一個區塊，也許有些人看到這邊已經知道端倪，因為只要把圖片轉換成一個一個的&lt;div&gt;，透過操作每個&lt;div&gt;，就可以做出特效</p>

<p>接著我們把程式碼寫完，先建立一些變數</p>

<pre><code>var width = $container.width(),
    height = $container.height(),
    $img = $container.find('img'),
    n_tiles = o.x * o.y,
    tiles = [], $tiles;
</code></pre>

<p>接著是建立一塊一塊的磁磚，並且把原圖隱藏，最後加上剛建立好的磁磚磁磚，至於要建立多少個就看當初給予的值</p>

<pre><code>for ( var i = 0; i &lt; n_tiles; i++ ) {
    tiles.push('&lt;div class="tile"/&gt;');
}

$tiles = $( tiles.join('') );

//將原圖隱藏並加上磁磚
$img.hide().after( $tiles );
</code></pre>

<p>接著利用原始圖檔當作磁磚背景圖，在將背景圖做適當的位移，至於要位移多少，就看每個&lt;div&gt;所代表的區塊</p>

<pre><code>//利用原始圖檔當作磁磚背景圖
$tiles.css({
    width: width / o.x,
    height: height / o.y,
    backgroundImage: 'url('+ $img.attr('src') +')'
});    

//替背景圖調整位置
$tiles.each(function() {
    var pos = $(this).position();
    console.log(pos);
    $(this).css( 'backgroundPosition', -pos.left +'px '+ -pos.top +'px' );
});
</code></pre>

<p>因為要拼成一塊圖片的關係，所以也要利用 float這個屬性</p>

<pre><code>.tile { float: left; }
</code></pre>

<p>到這邊為止，你可以加上下面這段程式碼，看看效果如何</p>

<pre><code>$('.sliced').sliced({ x:4, y:4 }); // 將圖片切成4x4
</code></pre>

<p>看圖片好像沒什麼改變，但打開firebug看看HTML部份，有發現到不一樣了嗎？</p>

<p><img src="https://lh5.googleusercontent.com/-t0N7b55zbPE/UPkk8Kc6OaI/AAAAAAAACMo/1L6StJdwJ3s/s1026/2013-01-18_180320.jpg" /></p>

<h3>製作效果</h3>

<p>知道了原理以後，也把圖片切成一塊一塊的磁磚，接著讓我們繼續把程式碼寫完，接下來是隨機變換的部份</p>

<pre><code>function range( min, max, rand ) {
  var arr = ( new Array( ++max - min ) )
    .join('.').split('.')
    .map(function( v,i ){ return min + i });
  return rand
    ? arr.map(function( v ) { return [ Math.random(), v ] })
       .sort().map(function( v ) { return v[ 1 ] })
    : arr;
}
</code></pre>

<p>這部份的 code 可以參考 <a href="http://stackoverflow.com/questions/12528886/random-but-just-in-chrome" target="_blank">stackoverflow</a>，簡單來說就是一個產生<strong>特定範圍的隨機排列的數字</strong>，但因為是函式的關係我們要把他跟一開始建立預設值放在一起，剩下的 code 就是處理切換效果的部份</p>

<pre><code>var tilesArr = range( 0, n_tiles, o.random ),
tileSpeed = o.speed / n_tiles;              

$container.on( 'animate', function() {

    tilesArr.forEach(function( tile, i ) {                  
        setTimeout(function(){
            $tiles.eq( tile ).toggleClass( 'tile-animated' );
        }, i * tileSpeed );
    });

});
</code></pre>

<p>我們將每個磁磚加上 animate，在特定時間內做 opacity 屬性的變化，最後加上一個按鈕做觸發，和套用plugin，看看效果如何</p>

<p>html</p>

<pre><code>&lt;button&gt;Toggle&lt;/button&gt;
</code></pre>

<p>js</p>

<pre><code>$('button').click(function() {
    $('.sliced').trigger('animate');
});
</code></pre>

<p>如果對於整個程式碼不太清楚，可以直接看 <a href="http://jsfiddle.net/rx836/jQaJh/2/" target="_blank">範例</a></p>

<h2>結論</h2>

<p>只要知道是拼圖的概念，就可以知道其實不是針對原圖去做變化，巧妙的利用&lt;div&gt;也可以做出類似flash的效果</p>

<h3>參考資料:</h3>

<p><a href="http://www.onextrapixel.com/2012/11/23/how-to-slice-images-into-tiles-with-jquery-and-css3-transitions/" target="_blank">How to Slice Images into Tiles with jQuery and CSS3 Transitions</a></p>

<p>內容如有錯誤，歡迎指正</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[jQ-Plugin] 跟著Pinterest將menu固定起來 - Sticky]]></title>
    <link href="http://blog.rx836.tw/blog/sticky-object/"/>
    <updated>2013-01-08T11:11:00+08:00</updated>
    <id>http://blog.rx836.tw/blog/sticky-object</id>
    <content type="html"><![CDATA[<p>pinterest的網站設計影響了許多人，之前也曾經寫過實做的文章 - <a href="http://blog.rx836.tw/blog/jquery-waterfall-infinitescroll/" target="_blank">做出Pinterest效果的介面 用jQuery Masonry + Infinite Scroll</a>，但其實在這種被稱為 Waterfall 的網頁設計底下，還有許多小技巧和應用需要學習</p>

<!--more-->


<p>其中一個就是將上方的 menu 固定在整個視窗的某個地方，因為像這種無限延伸的設計，不知道整個網頁會長到多長，在User瀏覽網頁時，如果想要中途切換其他頁面，沒有將 menu 固定在視窗的某個區塊，會發現拉回最上方非常的不方便，所以一般來說都會設計成跟著頁面做移動，如下圖</p>

<p>一開始menu固定在上方的某個區塊</p>

<p><img src="https://lh3.googleusercontent.com/-QU3DxU6ccVg/UOu9t-bGOmI/AAAAAAAACKY/y8rQuxSivyA/s671/2013-01-08_114010.jpg" /></p>

<p>當頁面往下拉時，會跟著移動</p>

<p><img src="https://lh5.googleusercontent.com/-A57qEkc8I7s/UOu9tzDm2FI/AAAAAAAACKc/ALiiUe-IdrQ/s589/2013-01-08_114044.jpg" /></p>

<p>要實現這樣的設計並不困難，今天就來介紹一款方便的jQuery plugin - Sticky</p>

<h2>Start</h2>

<p>首先先從github下載js檔回來</p>

<p><a href="https://github.com/garand/sticky" target="_blank">DOWNLOAD PLUGIN</a></p>

<p>裡面有個檔名為jquery.sticky.js，將他載入到網頁裡面</p>

<p>接著html部份</p>

<pre><code>&lt;p&gt;上方元素&lt;/p&gt;
&lt;div id="sticker"&gt;
    &lt;p&gt;我是menu&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;下方元素&lt;/p&gt;
</code></pre>

<p>id為 sticker 的&lt;div&gt;就是要被固定在上方的元素，為了方便demo，可以給他一些css樣式</p>

<pre><code>body {
  height: 10000px;
  padding: 0;
  margin: 0;
}

#sticker {
  background: #bada55;
  color: white;
  width: 300px;
  font-family: Droid Sans;
  font-size: 40px;
  line-height: 1.6em;
  font-weight: bold;
  text-align: center;
  padding: 20px;
  margin: 0 auto;
  text-shadow: 0 1px 1px rgba(0,0,0,.2);
  border-radius: 50px;
}
</code></pre>

<p>這邊注意到 body 的 height 為1000px是為了讓網頁可以一直往下拉</p>

<p>接著是js部份</p>

<pre><code>$("#sticker").sticky({ topSpacing: 0, center:true, className:"hey" });
</code></pre>

<p>最後來看展示結果</p>

<p>捲動網頁前</p>

<p><img src="https://lh3.googleusercontent.com/-xma-MsT9Zww/UOu9t_QwQGI/AAAAAAAACKU/cdJD0qMOFNM/s1023/2013-01-08_124326.jpg" /></p>

<p>捲動網頁後</p>

<p><img src="https://lh4.googleusercontent.com/-NJLAKGJfXP0/UOu9u6udgXI/AAAAAAAACKg/VISQuhKeefM/s1003/2013-01-08_124342.jpg" /></p>

<p>會發現 "我是menu" 這個區塊會一直固定在網頁上方，達到我們想要的效果，如果圖片說明不清，建議還是實做 Demo 比較清楚XD</p>

<h2>參數部份</h2>

<p>topSpacing: 元素與頁面頂端有多少固定距離</p>

<p>bottomSpacing: 元素與頁面底端有多少固定距離</p>

<p>className: 當觸發事件時增加的 CSS class, 預設是is-sticky</p>

<p>wrapperClassName: 自訂 wrapper CSS class, 預設是sticky-wrapper</p>

<p>getWidthFrom: 選擇一個元素做為參考值設定為固定寬度</p>

<h2>想要自己實做的話..</h2>

<p>如果試著去看 source code 的話，會發現實做並不困難，主要就是計算 <strong>scrollTop()</strong> 目前的位置，如果大於某個值就觸發事件，將要固定的元素添加 position:fixed，接著在看要距離上方多少空間就設定多少 top 值，主要的判斷程式碼部分如下，有興趣的人可以再自行參考</p>

<pre><code>if (scrollTop &lt;= etse) {
  if (s.currentTop !== null) {
    s.stickyElement
      .css('position', '')
      .css('top', '');
    s.stickyElement.parent().removeClass(s.className);
    s.currentTop = null;
  }
}
else {
  var newTop = documentHeight - s.stickyElement.outerHeight()
    - s.topSpacing - s.bottomSpacing - scrollTop - extra;
  if (newTop &lt; 0) {
    newTop = newTop + s.topSpacing;
  } else {
    newTop = s.topSpacing;
  }
  if (s.currentTop != newTop) {
    s.stickyElement
      .css('position', 'fixed')
      .css('top', newTop);

    if (typeof s.getWidthFrom !== 'undefined') {
      s.stickyElement.css('width', $(s.getWidthFrom).width());
    }

    s.stickyElement.parent().addClass(s.className);
    s.currentTop = newTop;
  }
}
</code></pre>

<h3>參考資料:</h3>

<p><a href="http://stickyjs.com/" target="_blank">Sticky</a></p>

<p>內容如有錯誤，歡迎指正</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[jQ-Plugin] 輕鬆加入Tag標籤功能的plugin-Tags Manager]]></title>
    <link href="http://blog.rx836.tw/blog/jquery-tags-manager/"/>
    <updated>2012-12-20T11:11:00+08:00</updated>
    <id>http://blog.rx836.tw/blog/jquery-tags-manager</id>
    <content type="html"><![CDATA[<p><img src="https://lh5.googleusercontent.com/-gxsgoBxzDI8/UNKSYvcQnPI/AAAAAAAACFc/7PiDy2u-3KA/s745/2012-12-20_111514.jpg" /></p>

<p>如果有在 <a href="http://stackoverflow.com/" target="_blank">stackoverflow</a> 上找過答案的朋友，應該對於他們的tag並不陌生，類似這樣的功能在許多blog或是論壇都有，但光是只有Tag這個功能已經不是重點所在，如何讓User有良好的Tag經驗是現今大家所追求的，簡單的說就是使用者經驗(UX)，今天就來介紹一款我個人覺得不錯的jQuery plugin - Tags Manager</p>

<!--more-->


<h2>Start</h2>

<p><a href="https://github.com/max-favilli/tagmanager" target="_blank">Download from Github</a></p>

<p>使用方式相當相當的簡單，從github載下來後，將Tags Manager和所需要的css檔案掛載到網頁裡面，接下來只有兩個步驟</p>

<p>第一步驟就是在html裡面加上一個&lt;input&gt;</p>

<pre><code>&lt;input type="text" name="tags" placeholder="Tags" class="tagManager"/&gt;
</code></pre>

<p>第二個步驟就是在js加上一段程式碼</p>

<pre><code>jQuery(".tagManager").tagsManager();
</code></pre>

<p>完成，本篇介紹到此結束</p>

<p>.</p>

<p>.</p>

<p>.</p>

<p>.</p>

<p>好啦，真的就只有這兩行，打開網頁後你可以看到會有一個input，裡面有個預設文字Tags</p>

<p><img src="https://lh5.googleusercontent.com/-OR2B3B8UzXs/UNKSYj723cI/AAAAAAAACFg/Pz1flQNbeKg/s149/2012-12-20_113137.jpg" /></p>

<p>接著你在裡面輸入文字，只要<strong>你的焦點離開input</strong>、<strong>按下Enter</strong>或是<strong>加上逗號</strong>，都會自動幫你生成一個Tag</p>

<p><img src="https://lh5.googleusercontent.com/-Rq7wFJw2IH4/UNKSYmV6tWI/AAAAAAAACFk/k9e3c11qyZg/s202/2012-12-20_113346.jpg" /></p>

<p>而假如要刪除呢？只要對著Tag裡面的小x按下即可，這對於使用者來說非常的方便使用，那對於開發者來說要如何操作呢？</p>

<p>也許會有人問那我要怎麼取得那些Tag的值，如果你有用firebug或是google Chrome(按下F12呼叫開發者環境)，可以看到Tags Manager會在增加Tag的同時，默默的在背後新增一個hidden，並且把值丟到裡面做暫存，所以當開發者想要將Tag的值送到Server端時，可以從這裡取出</p>

<p><img src="https://lh4.googleusercontent.com/-hfXPhL3aF1g/UNKSZaCL9fI/AAAAAAAACFo/aKDNo-6VMj8/s658/2012-12-20_113905.jpg" /></p>

<p>當然，Tag裡面還有很重要的一個功能就是智能輸入，會出現關鍵字的提示，但因為Tags Manager是利用 <a href="http://twitter.github.com/bootstrap/index.html" target="_blank">Bootstrap</a> 裡面的 <a href="http://twitter.github.com/bootstrap/javascript.html#typeahead" target="_blank">typeahead</a> ，所以要用到關鍵字的提示要載入Bootstrap才可以使用，以下就是範例</p>

<pre><code>jQuery(".tagManager").tagsManager({
    prefilled: ["Pisa", "Rome"],
    typeahead: true,
    typeaheadSource: funSource
});

function funSource(){
    var ret = ["Manchester", "Astonvilla", "Real Madrid", "Barcelona", "Milan AC", "Internazionale", "Roma AC", "Chelsea"];
    return ret;
} 
</code></pre>

<p>你可以將需要提示的tag寫成一個陣列，將值塞入參數 <strong>typeaheadSource</strong></p>

<p>其他的參數分別為</p>

<ul>
<li>prefilled:預先給予的Tag</li>
<li>CapitalizeFirstLetter:如果為true，會將Tag第一個字轉為大寫，其他為小寫</li>
<li>preventSubmitOnEnter:如果為true，假設&lt;input&gt;在&lt;form&gt;裡面，按下Enter將不會觸發Sibmit</li>
<li>typeahead:如果為true，就會有關鍵字的提示選擇</li>
<li>typeaheadAjaxSource:可以從Server端接收JSON格式的關鍵字提示選擇</li>
<li>typeaheadSource:可以接收陣列或funtion回傳陣列的關鍵字提示選擇</li>
</ul>


<p>這邊只介紹幾個主要的參數，其他還有許多不錯的參數應用可以直接參考 <a href="http://welldonethings.com/tags/manager" target="_blank">Tags Manager</a></p>

<h2>總結</h2>

<p>這是一套蠻方便的plugin，對於他的樣式如果不太喜歡還可以自己進行修改，另外對Tag還想要有更多的其他選擇，也可以參考 <a href="http://ioncache.github.com/Tag-Handler/" target="_blank">Tag Handler</a>、<a href="http://xoxco.com/projects/code/tagsinput/" target="_blank">jQuery Tags Input Plugin</a> 這些參考文章</p>

<h3>參考資料:</h3>

<p><a href="http://welldonethings.com/tags/manager" target="_blank">Tags Manager (a jQuery plugin)</a></p>

<p>內容如有錯誤，歡迎指正</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[jQ-Plugin] 簡易的數值格式化-Numeral.js]]></title>
    <link href="http://blog.rx836.tw/blog/jquery-plugin-format-number/"/>
    <updated>2012-12-04T12:34:00+08:00</updated>
    <id>http://blog.rx836.tw/blog/jquery-plugin-format-number</id>
    <content type="html"><![CDATA[<p>對於將數字或是文字做格式化一直都覺得很阿雜，例如將算出來的數字加個千分位的逗點，或是加個貨幣符號，雖然自己做並不難，但還是希望可以有個plugin能做到這些事情，所以今天就來筆記 Numeral.js  這款plugin</p>

<!--more-->


<h2>Start</h2>

<p>用法很簡單容易，先下載 <a href="http://numeraljs.com/" target="_blank">Numeral.js</a></p>

<p>接著載入到網頁裡面後，js的寫法如下</p>

<pre><code>var string = numeral(1000).format('0,0');
// 1,000
</code></pre>

<p>這樣子把數字丟進去以後，在 <strong>format()</strong> 傳入相對應的格式，就可以擁有千分位的逗點，其它還有</p>

<h3>名次</h3>

<pre><code>var string = numeral(12).format('0o');
//12th
</code></pre>

<h3>貨幣符號</h3>

<pre><code>var string = numeral(1001).format('$ 0,0[.]00');
//$ 1,001
</code></pre>

<h3>Bytes</h3>

<pre><code>var string = numeral(7884486213).format('0.0b');
//7.3GB
</code></pre>

<h3>百分率</h3>

<pre><code>var string = numeral(0.974878234).format('0.000%');
//97.488%
</code></pre>

<h3>時間</h3>

<pre><code>var string = numeral(238).format('00:00:00');
//0:03:58
</code></pre>

<h3>Unformat</h3>

<p>能轉換過去，當然也可以轉換回來</p>

<pre><code>var string = numeral().unformat('12th');
//12
</code></pre>

<h3>加減乘除</h3>

<pre><code>var number = numeral(1000);

var added = number.add(10);
// 1010
</code></pre>

<p>這功能我是覺得有點多餘XD，去看source也只是做加減乘除，不太需要再多此一舉</p>

<h2>source code</h2>

<p>因為最近想自己嘗試練習多寫一些plugin，所以會去觀摩別人的寫法，numeral.js是一個蠻簡單明瞭的範例，所以大概抓幾個重點出來筆記心得，有興趣的人可以一起看看XD</p>

<p>1.建立一個名為Numeral的函式</p>

<p>數值就是從這邊傳入</p>

<pre><code>// Numeral prototype object
function Numeral (number) {
    this._n = number;
}
</code></pre>

<p>2.加入一些prototype</p>

<pre><code>numeral.fn = Numeral.prototype = {

    clone : function () {
        // ...
    },

    format : function (inputString) {           
        // ...
    },

    // ...
    // ...

    multiply : function (value) {
        // ...
    },

    divide : function (value) {
        // ...
    },

    difference : function (value) {
        // ...
    }

};
</code></pre>

<p>以上兩個為程式的主體，所以有了這個架構我們就可以這樣寫</p>

<pre><code>numeral(1000).format('0,0');
</code></pre>

<p>3.其它大部分就是函式的處理</p>

<pre><code>function formatNumeral (n, format) {
    var output;

    // figure out what kind of format we are dealing with
    if (format.indexOf('$') &gt; -1) { // currency!!!!!
        output = formatCurrency(n, format);
    } else if (format.indexOf('%') &gt; -1) { // percentage
        output = formatPercentage(n, format);
    } else if (format.indexOf(':') &gt; -1) { // time
        output = formatTime(n, format);
    } else { // plain ol' numbers or bytes
        output = formatNumber(n, format);
    }

    // return string
    return output;
}
</code></pre>

<p>會發現傳入的參數為 <strong>n</strong> 和 <strong>format</strong></p>

<p>n就是 <strong>Numeral函式</strong> 本身，裡面帶有傳入的數值和prototype這些東西</p>

<p>format就是要進行什麼樣的格式化</p>

<p>如果format裡面含有$就是要進行貨幣的格式化，有%就是要進行百分比的格式化，其它以此類推</p>

<h3>參考資料:</h3>

<p><a href="https://github.com/adamwdraper/Numeral-js" target="_blank">Github Numeral-js</a></p>

<p><a href="http://numeraljs.com/" target="_blank">Numeral.js</a></p>

<p>內容如有錯誤，歡迎指正</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[jQ-Plugin] 圖片延遲加載-Lazy-Loading]]></title>
    <link href="http://blog.rx836.tw/blog/create-lazy-loading/"/>
    <updated>2012-12-03T15:01:00+08:00</updated>
    <id>http://blog.rx836.tw/blog/create-lazy-loading</id>
    <content type="html"><![CDATA[<p><img src="https://lh4.googleusercontent.com/-9VL-bSTiio8/ULxO_q7aPbI/AAAAAAAACAQ/R6Nns5e2_T0/s551/qwer.jpg" /></p>

<p>延遲加載圖片常用在有大量圖片的網站，在訪客還沒看到的區域先暫停讀取圖片，等到看到特定區域時才將需要的圖片載入，好處是可以減少一開始等待所有圖片載入的時間，避免訪客感到不耐煩而流失，要做到此效果只需要搭配簡單的jQuery plugin，並且在HTML上加點技巧即可，重點是，要加上這個效果對設計師來說並不困難，因為裡面並沒有涉及到太多JavaScript知識</p>

<!--more-->


<h2>Start</h2>

<p>首先必須下載jQuery和<a href="https://raw.github.com/tuupola/jquery_lazyload/master/jquery.lazyload.min.js" target="_blank">minified lazyload script</a>，並且加掛在網頁裡面</p>

<pre><code>&lt;script src="jquery.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="jquery.lazyload.js" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>

<p>接著我們需要建立一個 1x1 px的灰色小圖，這將會取代尚未讀取到的圖片，來做為延遲加載的效果</p>

<p><img src="https://lh4.googleusercontent.com/-GynYPKkHJnU/ULxbNG8liyI/AAAAAAAACA0/QMBzvG46740/s530/rtyu.jpg" /></p>

<p>接著是HTML部分</p>

<pre><code>&lt;div class="frame"&gt;&lt;img class="lazy" src="img/g.gif" data-original="img/interior_01.jpg" width="500" height="333" alt="interior shot #1"&gt;&lt;/div&gt;
</code></pre>

<p>這邊特別的是&lt;img&gt;的屬性 <strong>src</strong> 並不是指向原始圖檔，而是 1x1 px的小圖，而原始圖檔擺放的位置在屬性 <strong>data-original</strong> 裡面，另外要給予原始圖檔的 <strong>width</strong> 和 <strong>height</strong>，避免不必要的錯誤發生</p>

<h3>noscript</h3>

<p>在瀏覽器沒有開啟JavaScript的情況下，我們可能也要做一些預防措施，直接將圖片載入，不然使用者看到的圖片都是一片灰</p>

<pre><code>&lt;div class="frame"&gt;&lt;img class="lazy" src="img/g.gif" data-original="img/interior_01.jpg" width="500" height="333" alt="interior shot #1"&gt;&lt;/div&gt;
&lt;noscript&gt;&lt;img src="img/interior_01.jpg" width="500" height="333" alt="interior shot #1"&gt;&lt;/noscript&gt;
</code></pre>

<p>接著是JS部分</p>

<pre><code>$("img.lazy").lazyload();
</code></pre>

<p>大功告成！很容易吧，假如你不太喜歡這麼呆滯的載入圖片，可以加入一些效果，例如 <strong>fadeIn</strong></p>

<pre><code>$("img.lazy").lazyload({
    effect: "fadeIn"
});
</code></pre>

<p>想要看更多運用，可以連到參考資料</p>

<h3>參考資料:</h3>

<p><a href="http://speckyboy.com/2012/10/18/how-to-create-lazy-loading-images-for-your-website/" target="_blank">How to Create Lazy-Loading Images for your Website</a></p>

<p><a href="http://www.appelsiini.net/projects/lazyload" target="_blank">Lazy Load Plugin for jQuery</a></p>

<p>內容如有錯誤，歡迎指正</p>
]]></content>
  </entry>
  
</feed>
